<launch>
    <arg name="imu" default="$(optenv LINGAO_IMU onboard_imu)" doc="model type [lp_imu, onboard_imu]"/>

    <!-- lingao base_driver -->
    <node pkg="lingao_bringup" name="lingao_base_node" type="lingao_base_node" output="screen">
        <param name="port_port" value="/dev/lingao"/>
        <param name="port_baud" value="230400"/>
        <param name="freq" value="100" />
        
        <param name="cmd_vel_sub_timeout" value="1" />
        <param name="topic_cmd_vel_name" value="/cmd_vel" />
        <param name="publish_odom_name" value="/raw_odom" />
        <param name="odom_frame" value="odom" />
        <param name="base_frame" value="base_footprint" />
        <param name="publish_odom_transform" value="false" />

        <param  name="imu_used" value="true" if="$(eval imu == 'onboard_imu')" />
        <param  name="imu_used" value="false" unless="$(eval imu == 'onboard_imu')" />

        <param name="linear_scale" value="1.0" />
        <param name="angular_scale" value="1.0" />

    </node>

</launch>
